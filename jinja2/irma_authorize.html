<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Notificaties - Rijksoverheid CSS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="static/css/manon-mint-green.css" rel="stylesheet">
    <script src="static/irmajs-v0.4.2/irma.js"></script>
</head>
<main id="main-content" tabindex="-1">

    <section class="bg-color-offset auth">
        <div>
            <h1>Inloggen {{ ura_name }}</h1>

            <div class="explanation" role="group" aria-label="toelichting">
                <span>Toelichting:</span>
                <p>Scan de QR code met de IRMA app om door te gaan met inloggen.</p>
            </div>

            <div class="tile options-overview">
                <div id="irma-web-form"></div>
            </div>
        </div>
    </section>
</main>
<script>
    let options = {
        // Developer options
        debugging: true,

        // Front-end options
        language:  'en',
        translations: {
            header:  'Uzipoc login',
            loading: 'Just one second please!'
        },

        // Back-end options
        session: {
            start: {
                url: o => `${o.url}` + '{{ session_url }}',
                method: 'POST',
            },
            result: false
        }
    };

    const irmaPopup = irma.newPopup({
        ...options,
        element: '#irma-web-form'
    });
    irmaPopup.start()
        .then(() => {
            window.location.replace('/irma/result?state={{ state }}');
        })
</script>
</html>
